{
  "generatedAt": "2026-01-21T00:00:00.000Z",
  "generatedBy": "Claude MCP",
  "projectId": "uflgfsoekkgegdgecubb",
  "tables": [
    {"schema":"public","name":"profiles","rls_enabled":true,"rows":17,"columns":[{"name":"id","data_type":"uuid","options":["updatable"],"default_value":"gen_random_uuid()"},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"attached_establishment_id","data_type":"integer","options":["nullable","updatable"]},{"name":"email","data_type":"text","options":["nullable","updatable"],"comment":"Email de l'utilisateur"},{"name":"first_name","data_type":"text","options":["nullable","updatable"],"comment":"Prenom"},{"name":"last_name","data_type":"text","options":["nullable","updatable"],"comment":"Nom de famille"},{"name":"avatar_url","data_type":"text","options":["nullable","updatable"],"comment":"URL de la photo de profil"},{"name":"phone","data_type":"text","options":["nullable","updatable"],"comment":"Numero de telephone"},{"name":"birthdate","data_type":"date","options":["nullable","updatable"],"comment":"Date de naissance"},{"name":"updated_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"username","data_type":"text","options":["nullable","updatable","unique"]},{"name":"role","data_type":"user_role","options":["updatable"],"default_value":"'client'::user_role"},{"name":"xp_coefficient","data_type":"integer","options":["updatable"],"default_value":"100"},{"name":"cashback_coefficient","data_type":"integer","options":["updatable"],"default_value":"100"}],"primary_keys":["id"],"comment":"Profils utilisateurs lies a auth.users"},
    {"schema":"public","name":"receipts","rls_enabled":true,"rows":55,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"amount","data_type":"integer","options":["updatable"]},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"establishment_id","data_type":"integer","options":["updatable"]}],"primary_keys":["id"],"comment":"Tickets de caisse"},
    {"schema":"public","name":"receipt_lines","rls_enabled":true,"rows":55,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"amount","data_type":"integer","options":["updatable"]},{"name":"payment_method","data_type":"payment_method","options":["updatable"]},{"name":"receipt_id","data_type":"bigint","options":["updatable"]}],"primary_keys":["id"],"comment":"Lignes de paiement des tickets"},
    {"schema":"public","name":"gains","rls_enabled":true,"rows":55,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"receipt_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"xp","data_type":"integer","options":["nullable","updatable"]},{"name":"cashback_money","data_type":"integer","options":["nullable","updatable"]},{"name":"establishment_id","data_type":"integer","options":["updatable"]}],"primary_keys":["id"],"comment":"XP et cashback gagnes"},
    {"schema":"public","name":"spendings","rls_enabled":true,"rows":5,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"amount","data_type":"integer","options":["updatable"]},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"establishment_id","data_type":"integer","options":["updatable"]},{"name":"receipt_id","data_type":"bigint","options":["nullable","updatable"]}],"primary_keys":["id"],"comment":"Depenses cashback"},
    {"schema":"public","name":"coupons","rls_enabled":true,"rows":2,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"used","data_type":"boolean","options":["updatable"],"default_value":"false"},{"name":"amount","data_type":"integer","options":["nullable","updatable"]},{"name":"percentage","data_type":"integer","options":["nullable","updatable"]},{"name":"template_id","data_type":"bigint","options":["nullable","updatable"],"comment":"Reference au template"},{"name":"expires_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"comment":"Date d'expiration"},{"name":"distribution_type","data_type":"varchar","options":["nullable","updatable"],"comment":"Type de distribution"},{"name":"period_identifier","data_type":"varchar","options":["nullable","updatable"],"comment":"Identifiant de periode"}],"primary_keys":["id"],"comment":"Coupons de reduction utilisateurs"},
    {"schema":"public","name":"coupon_templates","rls_enabled":true,"rows":23,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"name","data_type":"varchar","options":["updatable"]},{"name":"description","data_type":"text","options":["nullable","updatable"]},{"name":"amount","data_type":"integer","options":["nullable","updatable"],"comment":"Montant en centimes"},{"name":"percentage","data_type":"integer","options":["nullable","updatable"],"comment":"Pourcentage de reduction"},{"name":"establishment_id","data_type":"integer","options":["nullable","updatable"],"comment":"ID etablissement Directus"},{"name":"validity_days","data_type":"integer","options":["nullable","updatable"],"comment":"Jours de validite"},{"name":"is_active","data_type":"boolean","options":["nullable","updatable"],"default_value":"true"},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"updated_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"created_by","data_type":"uuid","options":["nullable","updatable"]}],"primary_keys":["id"],"comment":"Modeles de coupons reutilisables"},
    {"schema":"public","name":"reward_tiers","rls_enabled":true,"rows":6,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"name","data_type":"varchar","options":["updatable"]},{"name":"rank_from","data_type":"integer","options":["updatable"],"comment":"Rang minimum inclus"},{"name":"rank_to","data_type":"integer","options":["updatable"],"comment":"Rang maximum inclus"},{"name":"coupon_template_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"badge_type_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"period_type","data_type":"varchar","options":["updatable"],"comment":"Type de periode: weekly, monthly, yearly"},{"name":"display_order","data_type":"integer","options":["nullable","updatable"],"default_value":"0"},{"name":"is_active","data_type":"boolean","options":["nullable","updatable"],"default_value":"true"},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"updated_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"}],"primary_keys":["id"],"comment":"Paliers de recompenses leaderboard"},
    {"schema":"public","name":"period_reward_configs","rls_enabled":true,"rows":0,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"period_type","data_type":"varchar","options":["updatable"]},{"name":"period_identifier","data_type":"varchar","options":["updatable"],"comment":"Identifiant de periode"},{"name":"custom_tiers","data_type":"jsonb","options":["nullable","updatable"],"comment":"Surcharge des reward_tiers"},{"name":"status","data_type":"varchar","options":["nullable","updatable"],"default_value":"'pending'::varchar","comment":"pending, scheduled, distributed, cancelled"},{"name":"scheduled_at","data_type":"timestamp with time zone","options":["nullable","updatable"]},{"name":"distributed_at","data_type":"timestamp with time zone","options":["nullable","updatable"]},{"name":"distributed_by","data_type":"uuid","options":["nullable","updatable"]},{"name":"notes","data_type":"text","options":["nullable","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"updated_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"created_by","data_type":"uuid","options":["nullable","updatable"]}],"primary_keys":["id"],"comment":"Config personnalisee par periode"},
    {"schema":"public","name":"coupon_distribution_logs","rls_enabled":true,"rows":2,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"distribution_type","data_type":"varchar","options":["updatable"],"comment":"Type de distribution"},{"name":"period_identifier","data_type":"varchar","options":["nullable","updatable"]},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"coupon_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"coupon_template_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"coupon_amount","data_type":"integer","options":["nullable","updatable"]},{"name":"coupon_percentage","data_type":"integer","options":["nullable","updatable"]},{"name":"coupon_establishment_id","data_type":"integer","options":["nullable","updatable"]},{"name":"coupon_expires_at","data_type":"timestamp with time zone","options":["nullable","updatable"]},{"name":"rank","data_type":"integer","options":["nullable","updatable"]},{"name":"tier_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"tier_name","data_type":"varchar","options":["nullable","updatable"]},{"name":"xp_at_distribution","data_type":"integer","options":["nullable","updatable"]},{"name":"badge_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"user_badge_id","data_type":"bigint","options":["nullable","updatable"]},{"name":"distributed_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"distributed_by","data_type":"uuid","options":["nullable","updatable"],"comment":"UUID admin si manuel"},{"name":"notes","data_type":"text","options":["nullable","updatable"]},{"name":"status","data_type":"varchar","options":["nullable","updatable"],"default_value":"'success'::varchar"}],"primary_keys":["id"],"comment":"Historique des distributions"},
    {"schema":"public","name":"likes","rls_enabled":true,"rows":8,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"beer_id","data_type":"integer","options":["nullable","updatable"]},{"name":"news_id","data_type":"integer","options":["nullable","updatable"]},{"name":"quest_id","data_type":"integer","options":["nullable","updatable"]},{"name":"user_id","data_type":"uuid","options":["updatable"]}],"primary_keys":["id"],"comment":"Likes sur contenus"},
    {"schema":"public","name":"comments","rls_enabled":true,"rows":2,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"beer_id","data_type":"integer","options":["nullable","updatable"]},{"name":"news_id","data_type":"integer","options":["nullable","updatable"]},{"name":"quest_id","data_type":"integer","options":["nullable","updatable"]},{"name":"establishment_id","data_type":"integer","options":["nullable","updatable"]},{"name":"hidden","data_type":"boolean","options":["updatable"],"default_value":"false"},{"name":"content","data_type":"text","options":["nullable","updatable"]}],"primary_keys":["id"],"comment":"Commentaires"},
    {"schema":"public","name":"notes","rls_enabled":true,"rows":0,"columns":[{"name":"id","data_type":"bigint","options":["identity","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["updatable"],"default_value":"now()"},{"name":"customer_id","data_type":"uuid","options":["updatable"],"default_value":"auth.uid()"},{"name":"note","data_type":"integer","options":["updatable"]}],"primary_keys":["id"],"comment":"Notes/evaluations"},
    {"schema":"public","name":"badge_types","rls_enabled":true,"rows":9,"columns":[{"name":"id","data_type":"integer","options":["updatable"]},{"name":"slug","data_type":"varchar","options":["updatable","unique"],"comment":"Identifiant unique du badge"},{"name":"name","data_type":"varchar","options":["updatable"]},{"name":"description","data_type":"text","options":["nullable","updatable"]},{"name":"icon","data_type":"varchar","options":["nullable","updatable"]},{"name":"rarity","data_type":"varchar","options":["nullable","updatable"],"comment":"common, rare, epic, legendary"},{"name":"category","data_type":"varchar","options":["nullable","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"}],"primary_keys":["id"],"comment":"Definitions des badges"},
    {"schema":"public","name":"user_badges","rls_enabled":true,"rows":2,"columns":[{"name":"id","data_type":"integer","options":["updatable"]},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"badge_id","data_type":"integer","options":["updatable"]},{"name":"earned_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"period_type","data_type":"varchar","options":["nullable","updatable"]},{"name":"period_identifier","data_type":"varchar","options":["nullable","updatable"],"comment":"Identifiant de periode"},{"name":"rank","data_type":"integer","options":["nullable","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"}],"primary_keys":["id"],"comment":"Badges obtenus par utilisateur"},
    {"schema":"public","name":"leaderboard_reward_distributions","rls_enabled":true,"rows":0,"columns":[{"name":"id","data_type":"integer","options":["updatable"]},{"name":"customer_id","data_type":"uuid","options":["updatable"]},{"name":"period_type","data_type":"varchar","options":["updatable"]},{"name":"period_identifier","data_type":"varchar","options":["updatable"]},{"name":"rank","data_type":"integer","options":["updatable"]},{"name":"coupon_amount_id","data_type":"integer","options":["nullable","updatable"]},{"name":"coupon_percentage_id","data_type":"integer","options":["nullable","updatable"]},{"name":"badge_ids","data_type":"integer[]","options":["nullable","updatable"],"default_value":"ARRAY[]::integer[]","comment":"IDs de badges attribues"},{"name":"distributed_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"distribution_status","data_type":"varchar","options":["nullable","updatable"],"default_value":"'success'::varchar"},{"name":"error_message","data_type":"text","options":["nullable","updatable"]},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"}],"primary_keys":["id"],"comment":"Historique recompenses leaderboard"},
    {"schema":"public","name":"period_closures","rls_enabled":true,"rows":1,"columns":[{"name":"id","data_type":"integer","options":["updatable"]},{"name":"period_type","data_type":"varchar","options":["updatable"]},{"name":"period_identifier","data_type":"varchar","options":["updatable"]},{"name":"closed_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"},{"name":"rewards_distributed_count","data_type":"integer","options":["nullable","updatable"],"default_value":"0"},{"name":"total_eligible_users","data_type":"integer","options":["nullable","updatable"],"default_value":"0"},{"name":"distribution_duration_ms","data_type":"integer","options":["nullable","updatable"],"comment":"Temps de traitement en ms"},{"name":"status","data_type":"varchar","options":["nullable","updatable"],"default_value":"'success'::varchar"},{"name":"error_logs","data_type":"jsonb","options":["nullable","updatable"],"default_value":"'[]'::jsonb"},{"name":"created_at","data_type":"timestamp with time zone","options":["nullable","updatable"],"default_value":"now()"}],"primary_keys":["id"],"comment":"Clotures de periodes"},
    {"schema":"public","name":"constants","rls_enabled":true,"rows":2,"columns":[{"name":"key","data_type":"varchar","options":["updatable"]},{"name":"value","data_type":"text","options":["updatable"]}],"primary_keys":["key"],"comment":"Constantes de configuration"}
  ],
  "functions": [
    {"function_name":"award_user_badge","arguments":"p_customer_id uuid, p_badge_slug varchar, p_period_type varchar, p_period_identifier varchar, p_rank bigint","return_type":"json","volatility":"VOLATILE","security_definer":true,"description":"Attribue un badge a un utilisateur pour une periode donnee"},
    {"function_name":"calculate_gains","arguments":"p_amount_for_gains integer","return_type":"jsonb","volatility":"VOLATILE","security_definer":false,"description":"Calcule les gains XP et cashback"},
    {"function_name":"check_cashback_balance","arguments":"p_customer_id uuid, p_cashback_requested integer","return_type":"jsonb","volatility":"VOLATILE","security_definer":false,"description":"Verifie le solde cashback d'un utilisateur"},
    {"function_name":"check_email_exists","arguments":"email_to_check text","return_type":"boolean","volatility":"VOLATILE","security_definer":true,"description":"Verifie si un email existe"},
    {"function_name":"check_period_closed","arguments":"p_period_type varchar, p_period_identifier varchar","return_type":"boolean","volatility":"VOLATILE","security_definer":false,"description":"Verifie si une periode de leaderboard a deja ete fermee"},
    {"function_name":"create_frequency_coupon","arguments":"p_customer_id uuid","return_type":"json","volatility":"VOLATILE","security_definer":true,"description":"Cree un coupon de frequence (5% si 10+ commandes/semaine)"},
    {"function_name":"create_leaderboard_reward_coupon","arguments":"p_customer_id uuid, p_amount integer, p_percentage integer","return_type":"json","volatility":"VOLATILE","security_definer":true,"description":"Cree un coupon de recompense leaderboard"},
    {"function_name":"create_manual_coupon","arguments":"p_customer_id uuid, p_template_id bigint, p_amount integer, p_percentage integer, p_expires_at timestamptz, p_validity_days integer, p_notes text, p_admin_id uuid","return_type":"jsonb","volatility":"VOLATILE","security_definer":true,"description":"Cree un coupon manuellement"},
    {"function_name":"create_receipt","arguments":"p_customer_id uuid, p_establishment_id bigint, p_payment_methods jsonb, p_coupon_ids bigint[]","return_type":"jsonb","volatility":"VOLATILE","security_definer":true,"description":"Cree un recu avec paiements, coupons et gains"},
    {"function_name":"create_spending_from_cashback_payment","arguments":"","return_type":"trigger","volatility":"VOLATILE","security_definer":false,"description":"Trigger: cree un spending lors d'un paiement cashback"},
    {"function_name":"create_weekly_coupon","arguments":"p_customer_id uuid","return_type":"json","volatility":"VOLATILE","security_definer":true,"description":"Cree un coupon hebdomadaire (3,90EUR si 50EUR+ depenses)"},
    {"function_name":"distribute_leaderboard_rewards","arguments":"p_period_type varchar, p_force boolean","return_type":"json","volatility":"VOLATILE","security_definer":true,"description":"Distribue les recompenses leaderboard (legacy)"},
    {"function_name":"distribute_period_rewards_v2","arguments":"p_period_type varchar, p_period_identifier varchar, p_force boolean, p_preview_only boolean, p_admin_id uuid","return_type":"jsonb","volatility":"VOLATILE","security_definer":true,"description":"Distribution configurable des recompenses avec tiers"},
    {"function_name":"get_coupon_stats","arguments":"","return_type":"jsonb","volatility":"VOLATILE","security_definer":true,"description":"Statistiques globales des coupons"},
    {"function_name":"get_current_user_role","arguments":"","return_type":"text","volatility":"VOLATILE","security_definer":true,"description":"Retourne le role de l'utilisateur courant"},
    {"function_name":"get_customer_available_coupons","arguments":"p_customer_id uuid","return_type":"TABLE","volatility":"VOLATILE","security_definer":true,"description":"Coupons disponibles d'un client"},
    {"function_name":"get_period_identifier","arguments":"p_period_type varchar, p_date timestamptz","return_type":"varchar","volatility":"IMMUTABLE","security_definer":false,"description":"Calcule l'identifiant de periode (2026-W04, 2026-01, 2026)"},
    {"function_name":"get_period_preview","arguments":"p_period_type varchar, p_period_identifier varchar","return_type":"jsonb","volatility":"VOLATILE","security_definer":true,"description":"Previsualise la distribution des recompenses"},
    {"function_name":"get_user_badges","arguments":"p_customer_id uuid","return_type":"TABLE","volatility":"VOLATILE","security_definer":false,"description":"Recupere tous les badges d'un utilisateur"},
    {"function_name":"get_user_cashback_balance","arguments":"p_customer_id uuid","return_type":"jsonb","volatility":"STABLE","security_definer":false,"description":"Solde cashback depuis la vue materialisee"},
    {"function_name":"get_user_complete_stats","arguments":"p_customer_id uuid","return_type":"jsonb","volatility":"STABLE","security_definer":false,"description":"Statistiques completes d'un utilisateur"},
    {"function_name":"get_user_info","arguments":"user_ids uuid[]","return_type":"TABLE","volatility":"VOLATILE","security_definer":true,"description":"Informations utilisateur par IDs"},
    {"function_name":"get_user_xp_stats","arguments":"p_customer_id uuid","return_type":"jsonb","volatility":"STABLE","security_definer":false,"description":"Statistiques XP d'un utilisateur"},
    {"function_name":"handle_new_user","arguments":"","return_type":"trigger","volatility":"VOLATILE","security_definer":true,"description":"Cree un profil lors de la creation d'un utilisateur"},
    {"function_name":"handle_user_delete","arguments":"","return_type":"trigger","volatility":"VOLATILE","security_definer":true,"description":"Supprime le profil lors de la suppression d'un utilisateur"},
    {"function_name":"sync_auth_to_profiles","arguments":"","return_type":"TABLE","volatility":"VOLATILE","security_definer":true,"description":"Synchronise auth.users vers profiles"},
    {"function_name":"update_profile_from_auth","arguments":"user_id uuid","return_type":"void","volatility":"VOLATILE","security_definer":true,"description":"Met a jour un profil depuis auth.users"},
    {"function_name":"validate_coupons","arguments":"p_customer_id uuid, p_coupon_ids bigint[]","return_type":"jsonb","volatility":"VOLATILE","security_definer":false,"description":"Valide une liste de coupons"},
    {"function_name":"validate_payment_methods","arguments":"p_payment_methods jsonb","return_type":"jsonb","volatility":"VOLATILE","security_definer":false,"description":"Valide les methodes de paiement"}
  ],
  "triggers": [
    {"trigger_name":"trigger_create_spending_on_cashback","table_name":"receipt_lines","function_name":"create_spending_from_cashback_payment","trigger_definition":"CREATE TRIGGER trigger_create_spending_on_cashback AFTER INSERT ON public.receipt_lines FOR EACH ROW EXECUTE FUNCTION create_spending_from_cashback_payment()"}
  ],
  "materializedViews": [
    {"view_name":"user_stats","description":"Statistiques XP et cashback par utilisateur"},
    {"view_name":"weekly_xp_leaderboard","description":"Classement hebdomadaire (lundi-dimanche)"},
    {"view_name":"monthly_xp_leaderboard","description":"Classement mensuel (1er au dernier jour)"},
    {"view_name":"yearly_xp_leaderboard","description":"Classement annuel (1er janvier au 31 decembre)"}
  ],
  "views": [
    {"view_name":"reward_distribution_stats","description":"Statistiques des distributions de recompenses"}
  ],
  "enums": [
    {"type_name":"user_role","enum_values":["client","employee","establishment","admin"]},
    {"type_name":"payment_method","enum_values":["card","cash","cashback","coupon"]}
  ],
  "cronJobs": [
    {"jobid":1,"schedule":"5 0 * * 1","command":"SELECT distribute_period_rewards_v2('weekly')","active":true},
    {"jobid":2,"schedule":"10 0 1 * *","command":"SELECT distribute_period_rewards_v2('monthly')","active":true},
    {"jobid":3,"schedule":"15 0 1 1 *","command":"SELECT distribute_period_rewards_v2('yearly')","active":true}
  ],
  "edgeFunctions": [
    {"verify_jwt":true,"id":"c138bc5c-d111-4b7a-9e33-e74f654535d4","slug":"send-contact-email","version":1,"name":"send-contact-email","status":"ACTIVE","entrypoint_path":"supabase/functions/send-contact-email/index.ts","created_at":1767023004895}
  ],
  "extensions": [
    {"name":"plpgsql","schema":"pg_catalog","installed_version":"1.0","comment":"PL/pgSQL procedural language"},
    {"name":"uuid-ossp","schema":"extensions","installed_version":"1.1","comment":"Generation UUIDs"},
    {"name":"pgcrypto","schema":"extensions","installed_version":"1.3","comment":"Fonctions cryptographiques"},
    {"name":"pg_graphql","schema":"graphql","installed_version":"1.5.11","comment":"Support GraphQL"},
    {"name":"pg_stat_statements","schema":"extensions","installed_version":"1.11","comment":"Statistiques SQL"},
    {"name":"supabase_vault","schema":"vault","installed_version":"0.3.1","comment":"Vault Supabase"},
    {"name":"pg_cron","schema":"pg_catalog","installed_version":"1.6.4","comment":"Jobs cron PostgreSQL"}
  ]
}
